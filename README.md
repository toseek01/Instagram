**Abstract**

–ï—Å–ª–∏ –≤—ã —á–∏—Ç–∞–µ—Ç–µ —ç—Ç—É –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é, –∑–Ω–∞—á–∏—Ç –≤—ã —Å—Ç–æ–ª–∫–Ω—É–ª–∏—Å—å —Å –ø—Ä–æ–±–ª–µ–º–æ–π —Ä–∞—Å—Å—á–µ—Ç–∞ –∞—Ç—Ç—Ä–∏–±—É—Ü–∏–∏. –ê–ª–≥–æ—Ä–∏—Ç–º–æ–≤ –∞—Ç—Ç—Ä–∏–±—É—Ü–∏–∏ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ , –Ω–æ –¥–∞–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Ä–∞–±–æ—Ç—É –ª–∏—à—å —Å –æ–¥–Ω–∏–º –∏–∑ –Ω–∏—Ö - Shapley Value Attribution algorithm. (–¥–∞–ª–µ–µ –ø—Ä–æ—Å—Ç–æ Shapley).–í —ç—Ç–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –º—ã –ø–æ—Å—Ç–∞—Ä–∞–µ–º—Å—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ –æ–ø–∏—Å–∞—Ç—å –≤—Å–µ —à–∞–≥–∏ –∏ –º–µ—Ç–æ–¥—ã —Ä–∞—Å—á–µ—Ç–æ–≤ Shapley.</br>
–î–ª—è —É–ª—É—á—à–µ–Ω–∏—è –≤–∞—à–µ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è –º—ã –ø–æ—Å—Ç–∞—Ä–∞–µ–º—Å—è –≤—Å–µ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ —Ç–µ—Ä–º–∏–Ω—ã –∏ —Å—É—â–Ω–æ—Å—Ç–∏ –ø–æ–¥–∫—Ä–µ–ø–ª—è—Ç—å –Ω–∞–≥–ª—è–¥–Ω—ã–º–∏ –∏–ª–ª—é—Å—Ç—Ä–∞—Ü–∏—è–º–∏ –∏ –≤—Å–µ–≤–æ–∑–º–æ–∂–Ω—ã–º–∏ —É–ø—Ä–æ—â–µ–Ω–∏—è –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è.

–ü–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—á—Ç–∏ –º—ã –±—É–¥–µ–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –∏–∑–±–µ–≥–∞—Ç—å —Å–ª–æ–∂–Ω—ã—Ö –∏ –ø—É—Ç–∞–Ω–Ω—ã—Ö –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤ ,—á—Ç–æ–±—ã –¥–∞–∂–µ —Ç–µ –∏–∑ –≤–∞—Å –∫—Ç–æ –Ω–µ –¥—Ä—É–∂–∏—Ç —Å –º–∞—Ç–µ–º–∞—Ç–∏–∫–æ–π —Å–º–æ–≥–ª–∏ —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å —É —Å–µ–±—è –≤ –≥–æ–ª–æ–≤–µ —è—Å–Ω—É—é –∫–∞—Ä—Ç–∏–Ω—É –ø—Ä–æ–∏—Å—Ö–æ–¥—è—â–µ–≥–æ.</br>
–ö–æ–Ω–µ—á–Ω–æ –∂–µ –¥–ª—è –ª—é–¥–µ–π –∑–Ω–∞–∫–æ–º—ã—Ö —Å –ª–∏–Ω–µ–π–Ω–∞—è –∞–ª–≥–µ–±—Ä–æ–π –∏ –º–∞—Ç–µ–º–∞—Ç–∏–∫–æ–π, –∂–µ–ª–∞—é—â–∏—Ö –∫–æ–ø–∞—Ç—å –≥–ª—É–±–∂–µ –∏ —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è –≤–æ –≤—Å–µ–º –¥–æ—Å–∫–æ–Ω–∞–ª—å–Ω–æ ,–º—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–∏–∫—Ä–µ–ø–∏–º —Å—Å—ã–ª–∫–∏ –Ω–∞ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–∞–±–æ—Ç—ã –≥–¥–µ –≤—ã —Å–º–æ–∂–µ—Ç–µ –Ω–∞–π—Ç–∏ –æ—Ç–≤–µ—Ç—ã –Ω–∞ –≤—Å–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–¥–≤–æ–¥–Ω—ã–µ –∫–∞–º–Ω–∏, —Å –∫–æ—Ç–æ—Ä—ã–º–∏ –≤—ã —Å—Ç–æ–ª–∫–Ω–µ—Ç–µ—Å—å –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å Shapley.

–í—Å–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è Shapley  –ø–æ—Å—Ç—Ä–æ–µ–Ω—ã –æ—Å–Ω–æ–≤—ã–≤–∞—è—Å—å –Ω–∞ —É–ø—Ä–æ—â–µ–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ ("—É–ø—Ä–æ—â–µ–Ω–Ω–æ–π"-–Ω–µ –∑–Ω–∞—á–∏—Ç –ø–ª–æ—Ö–æ/—Ö—É–∂–µ ,
"—É–ø—Ä–æ—â–µ–Ω–Ω–æ–π" - –∑–Ω–∞—á–∏—Ç —Ç–∞ –∂–µ —Ç–æ—á–Ω–æ—Å—Ç—å ,—Ç–æ—Ç –∂–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª ,—Ç–æ–ª—å–∫–æ –±—ã—Å—Ç—Ä–µ–µ –∏ –ø–æ–Ω—è—Ç–Ω–µ–µ). –°—Å—ã–ª–∫–∏ –Ω–∞ –≤—Å–µ –º–∞—Ç—Ä–∏–∞–ª—ã –ø–æ —Å—Ç–∞—Ä–æ–π –¥–æ–±—Ä–æ–π —Ç—Ä–∞–¥–∏—Ü–∏–∏ –∏—â–∏—Ç–µ –≤ –∫–æ–Ω—Ü–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.



**Introduction**

`r/zoomertimeforlearning`

–°—Ä–∞–∑—É –ø–æ–∑–≤–æ–ª–∏–º —Å–µ–±–µ –æ–≥–æ–≤–æ—Ä–∏—Ç—Å—è –∏ –ø—Ä–æ—è—Å–Ω–∏—Ç—å –¥–ª—è —Å–µ–±—è –∏ –¥–ª—è –í–∞—Å ,–∫–∞–∫–∏–µ –∑–∞–¥–∞—á–∏/—Ü–µ–ª–∏ –Ω–µ —Å—Ç–æ—è—Ç –ø–µ—Ä–µ–¥ —ç—Ç–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–π.
  - –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç Shapley .–ú—ã –Ω–µ —Å—Ç–∞–≤–∏–º –ø–µ—Ä–µ–¥ —Å–æ–±–æ–π –∑–∞–¥–∞—á–∏ –¥–µ—Ç–∞–ª—å–Ω–æ –¥–æ–Ω–µ—Å—Ç–∏ –¥–æ —á–∏—Ç–∞—Ç–µ–ª—è –≤—Å–µ —Ç–æ–Ω–∫–æ—Å—Ç–∏ –∏ –Ω—é–∞–Ω—Å—ã
    —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ —Ä–∞–±–æ—Ç—ã –∞–ª–≥–æ—Ä–∏—Ç–º–∞.–í –∫–æ–Ω—Ü–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –º—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–∏–∫—Ä–µ–ø–∏–º —Å—Å—ã–ª–∫–∏ –Ω–∞ –æ—á–µ–Ω—å –ø–æ–ª–µ–∑–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã –±–ª–∞–≥–æ–¥–∞—Ä—è –∫–æ—Ç–æ—Ä—ã–º ,
    –í—ã –¥–æ—Ä–æ–≥–æ–π —á–∏—Ç–∞—Ç–µ–ª—å, —Å–º–æ–∂–µ—Ç–µ –ø–æ–≥—Ä—É–∑–∏—Ç—Å—è –≤–æ –≤—Å–µ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ Shapley. –ï—Å–ª–∏ –≤—ã –ø–µ—Ä–≤—ã–π
    —Ä–∞–∑ —Å–ª—ã—à–∏—Ç–µ –ø—Ä–æ —Ç–∞–∫–æ–π –∞–ª–≥–æ—Ä–∏—Ç–º, —Ç–æ —Å–æ–≤–µ—Ç—É–µ–º –≤–∞–º —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ—á–∏—Ç–∞—Ç—å —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–µ –¥–æ–∫–∏ , –ø–æ–Ω—è—Ç—å –∏ ~~–ø—Ä–æ—Å—Ç–∏—Ç—å~~ –æ—Å–º—ã—Å–ª–∏—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª,
    –∏ –ø–æ—Ç–æ–º —É–∂–µ —Å–º–µ–ª–æ –≤—Ä—ã–≤–∞—Ç—å—Å—è –≤ –Ω–∞—à—É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
  - –ö–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω–∞ —Ç–µ–æ—Ä–∏—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π, "–ø–æ—á–µ–º—É —ç—Ç–æ –≤—ã—Ä–∂–∞–µ–Ω–∏–µ —Ä–∞–≤–Ω–æ –≤–æ—Ç —ç—Ç–æ–º—É",—Ç–µ–æ—Ä–∏—è –º–Ω–æ–∂–µ—Å—Ç–≤,–ª–∏–Ω–µ–π–Ω–∞–π –∞–ª–≥–µ–±—Ä–∞ –∏ –ø—Ä–æ—á–∞—è –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è
    –¥–∏—á—å. –ù–∞—à–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω—ã , —É –≤–∞—Å —Ç–æ–∂–µ –º–∞–ª–æ –≤—Ä–µ–º–µ–Ω–∏ , –∏ –º—ã –≤ –≤–∞—Å —ç—Ç–æ —Ü–µ–Ω–∏–º , –Ω–æ –ø–æ–ø—É—Ç–Ω–æ –æ–ø–∏—Å—ã–≤–∞—Ç—å –≤–µ—Å—å –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–¥–≤–∞–ª
    —É –Ω–∞—Å –ø—Ä–æ—Å—Ç–æ –Ω–µ —Ö–≤–∞—Ç–∏—Ç —Å–∏–ª (+ r/bonusmyfriend ).–í —Å–µ—Ç–∏ –æ–≥—Ä–æ–º–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä—ã –∏ —Ä–µ—Å—É—Ä—Å–æ–≤ –∫–æ—Ç–æ—Ä—ã–µ –≤ —Å–ª—É—á–∞–µ —á–µ–≥–æ (—Ñ–æ—Ä–º—É–ª–∞,
    —Å–∏–º–≤–æ–ª, —Ä–∞–≤–µ–Ω—Å—Ç–≤–æ) —Å–º–æ–≥—É—Ç –¥–æ –≤–∞—Å –¥–æ–Ω–µ—Å—Ç–∏ —Å—É—Ç—å –≤—Å–µ–≥–æ —ç—Ç–æ–≥–æ –∑–∞—É–º–Ω–æ–≥–æ –±–µ–∑–æ–±—Ä–∞–∑–∏—è

–¢–µ–ø–µ—Ä—å ,–∫ —Ç–æ–º—É —á–µ–º—É –≤—ã –Ω–∞—É—á–∏—Ç–µ—Å—å –ø—Ä–æ—á–∏—Ç–∞–≤ —ç—Ç—É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏.

  - –ë—ã—Å—Ç—Ä–æ —Ä–∞—Å—á–∏—Ç—ã–≤–∞—Ç—å –∞—Ç—Ç—Ä–∏–±—É—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤–µ—Å–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–∞–Ω–∞–ª–∞
  - –ü–æ–Ω—è—Ç—å –∞—Ç—Ç—Ä–∏–±—É—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤–µ—Å –∫–∞–∂–¥–æ–π –ø–æ–∑–∏—Ü–∏–∏ (–ø–æ—Ä—è–¥–∫–æ–≤—ã–π –Ω–æ—Ä–º–µ—Ä –º–µ—Å—Ç–∞ –≤ —Ü–µ–ø—è—Ö –≤ –∫–æ—Ç–æ—Ä—ã—Ö –Ω–∞—Ö–æ–¥–∏–ª—Å—è –∫–∞–Ω–∞–ª) –≤–Ω—É—Ç—Ä–∏ –∫–∞–∂–¥–æ–≥–æ –∫–∞–Ω–∞–ª–∞
  - –ü—Ä–æ–≤–µ—Ä—è—Ç—å ,–ø—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω—ã –≤—Å–µ –∞—Ç—Ç—Ä–∏–±—É—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤–µ—Å–∞
  - –ö–∞–∫ —Å—Ç—Ä–æ—è—Ç—Å—è –º–∞—Ç—Ä–∏—Ü—ã –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö —Ä–∞—Å—á–µ—Ç–æ–≤ –∞—Ç—Ç—Ä–∏–±—É—Ü–∏–∏ –∏ –≥–¥–µ –∏—Ö –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –¥–∞–ª—å–Ω–µ–π—à–µ–º –¥–ª—è —Ä–µ—à–µ–Ω–∏—è —É–∂–µ `custom tasks`
  - –ö–∞–∫ —Ä–∞—Å—á–∏—Ç—ã–≤–∞—Ç—å Shapley –¥–ª—è –ª–æ—è–ª—å–Ω–æ–π/–Ω–µ–ª–æ—è–ª—å–Ω–æ–π –∞—É–¥–∏—Ç–æ—Ä–∏–∏ –∏ –≤–æ–æ–±—â–µ —á—Ç–æ —Ç–∞–∫–æ–π —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è Shapley –ª–æ—è–ª—å–Ω–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è
  
**Contents**


* 1.1 *Theory Shapley Quick Start*</br>
* 1.2  *shapelyLib methods*</br>
* 1.3  *What is it "Shapley properties" and why we need to check shapleyLib result*</br>

* 2.1  *Theory Ordered Shapley Quick start*</br>
* 2.2. *shapleyOrderLib methods*</br>
* 2.3  *How to use shapleyOrderLib*</br>


***1.1 Theory Shapley Quick Start***

–í —ç—Ç–æ–π –≥–ª–∞–≤–µ –º—ã –Ω–µ –±—É–¥–µ–º —Ä–∞–∑–±–∏—Ä–∞—Ç—å –∫–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω Shapley ,–∫–∞–∫ –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ —á—Ç–æ —Ç–∞–º –ø–æ–¥ "–∫–∞–ø–æ—Ç–æ–º".–ú—ã –ª–∏—à—å –¥–∞–¥–∏–º –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
–Ω–µ–∫–æ—Ç–æ—Ä–æ–º—É –Ω–∞–±–æ—Ä—É –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –ø–æ–Ω—è—Ç–∏–π ,—á—Ç–æ–±—ã –≤ –¥–∞–ª—å–Ω–µ–π—à–µ–º –æ–ø–∏—Ä–∞—è—Å—å –Ω–∞ —ç—Ç–æ—Ç –≥–ª–æ–∞—Å—Å–∞—Ä–∏–π –º—ã –º–æ–≥–ª–∏ –±—ã –ø–æ–Ω–∏–º–∞—Ç—å –¥—Ä—É–≥ –¥—Ä—É–≥–∞ –±–µ–∑ –∫–∞–∫–∏—Ö –ª–∏–±–æ –≤–µ—Å–æ–º—ã—Ö –∏–∑–¥–µ—Ä–∂–µ–∫.

***P** - –í–µ–ª–∏–∫–∞—è –∫–æ–∞–ª–∏—Ü–∏—è. –ú–Ω–æ–∂–µ—Å—Ç–≤–æ —Å–æ—Å—Ç–æ—è—â–µ–µ –∏–∑ —Ä–µ–∫–ª–∞–º–Ω—ã—Ö –∫–∞–Ω–∞–ª–æ–≤ {X1, X2, . . . , Xp}</br>
***S*** - –∫–æ–∞–ª–∏—Ü–∏—è. –ú–Ω–æ–∂–µ—Å—Ç–≤–æ –∫–∞–Ω–∞–ª–æ–≤ –∏–∑ P</br>
***M(j,S)*** - –ú–∞—Ä–∂–∏–Ω–∞–ª—å–Ω—ã–π –≤–∫–ª–∞–¥. UserID –∫–æ—Ç–æ—Ä—ã–µ –ø–æ—Å–µ—Ç–∏–ª–∏ –∫–∞–Ω–∞–ª Xj + S (–≤ —Ç–æ–º —á–∏—Å–ª–µ –∏ –Ω—É–ª–µ–≤–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ) –∏ —Å–æ–≤–µ—Ä—à–∏–ª–∏ –Ω–µ–∫–∏–π –≤–∫–ª–∞–¥</br>
![Image alt](https://github.com/toseek01/Instagram/blob/master/illustration/marg.png)</br>
***Shapley algorithm*** - –§–æ—Ä–º—É–ª–∞ —Ä–∞—Å—á–µ—Ç–∞ –∞—Ç—Ç—Ä–∏–±—É—Ü–∏–∏ –¥–ª—è –≤—Å–µ—Ö –∫–∞–Ω–∞–ª–æ–≤ (Shapley attribution formula)</br>
![Image alt](https://github.com/toseek01/Instagram/blob/master/illustration/shp.png)</br>
–ì–¥–µ R(S U {Xj}) —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –º–∞—Ä–∂–∏–Ω–∞–ª—å–Ω—ã–π –≤–∫–ª–∞–¥ UserID, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ—Å–µ—Ç–∏–ª–∏ **–í–°–ï** –∫–∞–Ω–∞–ª—ã –≤–Ω—É—Ç—Ä–∏ –∫–æ–∞–ª–∏—Ü–∏–∏ S U {Xj}.</br>
***–§j***- –ê—Ç—Ç—Ä–∏–±—É—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤–µ—Å –∫–∞–Ω–∞–ª–∞ (Shapley value)</br>
***total campaign*** - –°—É–º–º–∞ –∫–æ–Ω–≤–µ—Ä—Å–∏–π –∑–∞ –≤—Å—é –∫–∞–º–ø–∞–Ω–∏—é</br>
***Shapley values*** - –ê—Ç—Ç—Ä–∏–±—É—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤–µ—Å–∞ –∫–∞–Ω–∞–ª–æ–≤ ,–ø–æ—Å–ª–µ –∏—Ö –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —á–µ—Ä–µ–∑ **Shapley algorithm***</br>


**1.2 shapelyLib methods**

shapelyLib —Å–æ—Å—Ç–æ–∏—Ç –≤—Å–µ–≥–æ –∏–∑ 10 –º–µ—Ç–æ–¥–æ–≤, –∏ –≤ —ç—Ç–æ–π –≥–ª–∞–≤–µ –º—ã –ø–æ—Å—Ç–∞—Ä–∞–µ–º—Å—è –æ–±—ä—è—Å–Ω–∏—Ç—å, –æ—Å–Ω–æ–≤—ã–≤–∞—è—Å—å –Ω–∞ –∫–∞–∫–æ–π –ª–æ–≥–∏–∫–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∂–¥—ã–π –∏–∑ –Ω–∏—Ö.
–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –≤ –∫–∞–∫–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏—Ö —Å–ª–µ–¥—É–µ—Ç –ø—Ä–∏–º–µ–Ω—è—Ç—å,–∫–∞–∫–æ–π –º–µ—Ç–æ–¥ –∑–∞ —á—Ç–æ –æ—Ç–≤–µ—á–∞–µ—Ç,–∏–º–µ–µ—Ç –ª–∏ –æ–Ω –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—É –≤–Ω—É—Ç—Ä–∏ –∫–ª–∞—Å—Å–∞ –∞ —Ç–∞–∫ –∂–µ –∫–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ (—Ç–∏–ø,—Ñ–æ—Ä–º–∞—Ç –∏ –ø—Ä–æ—á–µ–µ) —Å–ª–µ–¥—É–µ—Ç –ø–æ–¥–∞–≤–∞—Ç—å –Ω–∞ –≤—Ö–æ–¥ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–∑ –Ω–∏—Ö. 
–ò –∫–æ–Ω–µ—á–Ω–æ –∂–µ —á—Ç–æ –º—ã –æ–∂–∏–¥–∞–µ–º –ø–æ–ª—É—á–∏—Ç—å –Ω–∞ –≤—ã—Ö–æ–¥–µ —É –∫–∞–∂–¥–æ–≥–∏–æ –∏–∑ —ç—Ç–∏—Ö –º–µ—Ç–æ–¥–æ–≤.

![Image alt](https://github.com/toseek01/Instagram/blob/master/illustration/LetsGo_Technik.png)

–ò—Ç–∞–∫,–∏–º–µ–µ–º —Å–ª–µ–¥—É—é—â–∏–µ –º–µ—Ç–æ–¥—ã:
- `__init__`
- `UniqueChainCheck`
- `ChainSplit`
- `ChannelDict`
- `UniqueChannel`
- `ChanneltoID`
- `ZeroMatrix`
- `Vectorization`
- `Calc`
- `DecodeDict`
–ó–¥–µ—Å—å –º—ã –Ω–µ –±—É–¥–µ–º —Ä–∞–∑–±–∏—Ä–∞—Ç—å –∫–∞–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ –∫–∞–∫–æ–º –º–µ—Ç–æ–¥–µ –∑–∞ —á—Ç–æ –æ—Ç–≤–µ—á–∞—é—Ç - —ç—Ç–æ –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ —Å–¥–µ–ª–∞–Ω–æ –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö –∫ —Å–∞–º–æ–º—É –∫–æ–¥—É, —Ç–∞–∫–∞—è —Å–∫–∞–∑–∞—Ç—å –≤—Ç–æ—Ä–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è ,–Ω–æ —Ç–æ–ª—å–∫–æ —É–∂–µ –≤–Ω—É—Ç—Ä–∏ –∫–æ–¥–∞)

**__init__**

–ó–¥–µ—Å—å —Ö—Ä–∞–Ω—è—Ç—Å—è –≤—Å–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —Ä–∞—Å—á–µ—Ç–æ–≤ Shapley –∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –∞–ª–≥–µ–±—Ä–∞–∏—á–µ—Å–∫–∏—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π,–∫–æ–¥–∏—Ä–æ–≤–∫–∏ –∫–∞–Ω–∞–ª–æ–≤,—Ä–µ–∂–∏–º—ã —Ä–∞—Å—á–µ—Ç–æ–≤ –∏ —Ç–¥. –û–±–æ –≤—Å–µ–º –ø–æ–¥—Ä–æ–±–Ω–æ –±—É–¥–µ—Ç –∏–∑–ª–æ–∂–µ–Ω–æ –Ω–∏–∂–µ. 

`args`
- data.–ê–≥–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (pandas) ,—Å—Ç—Ä–æ—è—â–∏–µ—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ DMP –∏/–∏–ª–∏ Google Analytics.–°–æ–±–æ–π —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç –∞–≥–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—É—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π(userID) –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –∏–º –∫–æ–Ω–≤–µ—Ä—Å–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ —ç—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–æ–≤–µ—Ä—à–∏–ª–∏ ,–ø–µ—Ä–µ–º–µ—â–∞—è—Å—å –ø–æ —ç—Ç–∏–º —Ü–µ–ø–æ—á–∫–∞–º.
–ü—Ä–∏–º–µ—Ä:</br>
a->b->d 10</br>
c->c->d 4</br>
a->a->e 8</br>
b->a->b 3</br>
d->e->b 6</br>

–¶–µ–ø–æ—á–∫–∏ –º–æ–≥—É—Ç –±—ã—Ç—å —Ä–∞–∑–Ω–æ–π –¥–ª–∏–Ω—ã,—Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å–∫–æ–ª—å–∫–æ —É–≥–æ–¥–Ω–æ –∫–∞–Ω–∞–ª–æ–≤ ,–∞ —Ç–∞–∫–∂–µ —Å–∫–æ–ª—å–∫–æ —É–≥–æ–¥–Ω–æ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –∫–∞–Ω–∞–ª–æ–≤ –≤–Ω—É—Ç—Ä–∏ –æ–¥–Ω–æ–π —Ü–µ–ø–∏.–ì–ª–∞–≤–Ω–æ–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ –∫ —Ü–µ–ø–æ—á–∫–∞–º, —ç—Ç–æ —Ç–æ ,—á—Ç–æ–±—ã –≤—Å–µ –æ–Ω–∏ –±—ã–ª–∏ *—É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏*.
–ö–æ–Ω–≤–µ—Ä—Å–∏–∏ –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å —Ç–∏–ø Int –∏–ª–∏ Float.

- channel_delimiter. –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å csv —Ñ–∞–π–ª–∞ ,–ø–æ –¥–µ—Ñ–æ–ª—Ç—É —Å—Ç–æ–∏—Ç
- loyal. –ê—Ä–≥—É–º–µ–Ω—Ç loyal —è–≤–ª—è–µ—Ç—Å—è —Ä–µ–∂–∏–º–æ–º —É—Å–ª–æ–≤–Ω–æ–π –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏. –ü—Ä–æ—â–µ –≥–æ–≤–æ—Ä—è —ç—Ç–æ —Å–∫–æ–ª—å–∫–æ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ —Å —Ä–µ–∫–ª–∞–º–æ–π —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –¥–æ–ª–∂–Ω–æ –±—ã–ª–æ –ø—Ä–æ–∏–∑–æ–π—Ç–∏ –ø—Ä–µ–∂–¥–µ —á–µ–º –æ–Ω–∏ —Å–æ–≤–µ—Ä—à–∏–ª–∏ –∫–æ–Ω–≤–µ—Ä—Å–∏—é.–ü—É—Å—Ç—å –ª–æ—è–ª—å–Ω—ã–º–∏ userID –º—ã –±—É–¥–µ–º —Å—á–∏—Ç–∞—Ç—å –ª—é–¥–µ–π –∫—Ç–æ –∏–º–µ–ª –Ω–µ –±–æ–ª–µ–µ N –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ —Å —Ä–µ–∫–ª–∞–º–æ–π, –ø–æ—Å–ª–µ –∫–æ—Ç–æ—Ä—ã—Ö –æ–Ω–∏ —Å–æ–≤–µ—Ä—à–∏–ª–∏ –∫–æ–Ω–≤–µ—Ä—Å–∏—é. –ë–ª–∞–≥–æ–¥–∞—Ä—è —ç—Ç–æ–º—É —Ä–µ–∂–∏–º—É ,–º—ã –º–æ–∂–µ–º —Å–º–æ—Ç—Ä–µ—Ç—å –∫–∞–∫ –∏–∑–º–µ–Ω—è—Ç—Å—è Shapley values —É –Ω–µ–ª–æ—è–ª—å–Ω–æ–π –∞—É–¥–∏—Ç–æ—Ä–∏–∏ –ø–æ –æ—Ç–Ω–æ—à–µ–Ω–∏—é –∫ –ª–æ—è–ª—å–Ω–æ–π.–†–µ–∂–∏–º –∏–º–µ–µ—Ç —Ç–æ–ª—å–∫–æ –¥–≤–∞ –∑–Ω–∞—á–µ–Ω–∏—è - True –∏ False
- loyal_position. –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ —Å —Ä–µ–∫–ª–∞–º–æ–π –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ª–æ—è–ª—å–Ω–æ–π –∞—É–¥–∏—Ç–æ—Ä–∏–∏.–¢–æ–ª—å–∫–æ –µ—Å–ª–∏ loyal==True

**UniqueChainCheck** –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å —Ü–µ–ø–µ–π –≤ *data*. –ï—Å–ª–∏ –±—É–¥—É—Ç –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã –¥—É–±–ª–∏–∫–∞—Ç—ã, –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –∏ –≤—ã–¥–∞–µ—Ç—Å—è –æ—à–∏–±–∫–∞</br>

**ChainSplit** –†–∞–∑–±–∏–≤–∞–µ—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫–∞–Ω–∞–ª–æ–≤ (—Å—Ç—Ä–æ–∫—É) –Ω–∞ –∫–∞–Ω–∞–ª—ã . –ü—Ä–∏–º–µ—Ä: a->b->c => [a,b,c]</br>

**ChannelDict** –°–ª–æ–≤–∞—Ä—å –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ ID –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–∞–Ω–∞–ª–∞</br>

**UniqueChannel** –°—á–∏—Ç–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—Ü–∏–∫–∞–ª—å–Ω—ã—Ö –∫–∞–Ω–∞–ª–æ–≤ –≤–æ –≤—Å–µ—Ö —Ü–µ–ø—è—Ö ,–∞ —Ç–∞–∫–∂–µ —Å–æ–∑–¥–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —ç—Ç–∏—Ö —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∫–∞–Ω–∞–ª–æ–≤</br>

**ChanneltoID** –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –∫–∞–Ω–∞–ª(–Ω–∞–∑–≤–∞–Ω–∏–µ –∫–∞–Ω–∞–ª–∞ String) –≤ –µ–≥–æ ID ,–∫–æ—Ç–æ—Ä–æ–µ –±—ã–ª–æ —Å–æ–∑–¥–∞–Ω–æ –∏ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ —Ä–∞–Ω–µ–µ —É–∫–∞–∑–∞–Ω–Ω–æ–º `ChannelDict`</br>

**ZeroMatrix** –°–æ–∑–¥–∞–µ—Ç –º–∞—Ç—Ä–∏—Ü—É —Ä–∞–∑–º–µ—Ä–æ–º (–∫–æ–ª-–≤–æ —Ü–µ–ø–µ–π –• –∫–æ–ª-–≤–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∫–∞–Ω–∞–ª–æ–≤).–í –¥–∞–ª—å–Ω–µ–π—à–µ–º –Ω–∞ –æ—Å–Ω–æ–≤–µ —ç—Ç–æ–π –º–∞—Ç—Ä–∏—Ü—ã –±—É–¥–µ—Ç —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—Ç—å—Å—è Shapley</br>

**Vectorization** –ü—Ä–∞–≤–∏–ª—å–Ω–æ –∑–∞–ø–æ–ª–Ω—è–µ—Ç –º–∞—Ç—Ä–∏—Ü—É —Å–æ–∑–¥–∞–Ω–Ω—É—é `ZeroMatrix` –º–µ—Ç–æ–¥–æ–º</br>

**DecodeDict** –î–µ–∫–æ–¥–∏—Ä—É–µ—Ç shapley_dict {channelID:shapley_value} –≤ –ø–æ–Ω—è—Ç–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å {channel_name:shapley_value}</br>

**1.3 What is it "Shapley properties" and why we need to check shapleyLib result**

–ö–æ–≥–¥–∞ –º—ã –ø—Ä–∏ –ø–æ–º–æ—â–∏ –∫–ª–∞—Å—Å–∞ shapleyLib –ø–æ–ª—É—á–∏–ª–∏ –∑–Ω–∞—á–µ–Ω–∏—è –∞—Ç—Ç—Ä–∏–±—É—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∫–∞–Ω–∞–ª–æ–≤ , –≤—Å—Ç–∞–µ—Ç –≤–æ–ø—Ä–æ—Å - –ê –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ª–∏ –≤—Å–µ —Ä–∞—Å—Å—á–∏—Ç–∞–ª –∞–ª–≥–æ—Ä–∏—Ç–º, –Ω–µ—Ç –ª–∏ —Ç–∞–º –∫–∞–∫–æ–π –Ω–∏–±—É–¥—å –æ—à–∏–±–∫–∏.–î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã —ç—Ç–æ –ø–æ–Ω—è—Ç—å –º—ã –¥–æ–ª–∂–Ω—ã –ø—Ä–æ–≥–Ω–∞—Ç—å –Ω–∞—à–∏ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è —á–µ—Ä–µ–∑ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ (–Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ä–∞–≤–µ–Ω—Å—Ç–≤–∞) Shapley ,—á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è –Ω–∞ –≤—Å–µ 100% ,—á—Ç–æ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –Ω–∞–º–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤–µ—Ä–Ω—ã

–ó–∞ –ø—Ä–æ–≤–µ—Ä–∫—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∏ —Å–≤–æ–π—Å—Ç–≤ –æ—Ç–≤–µ—á–∞–µ—Ç –∫–ª–∞—Å—Å ***Properties***

- ***Efficiency***
![Image alt](https://github.com/toseek01/Instagram/blob/master/illustration/efficiency.png)</br>
–≠—Ç–æ —Å–≤–æ–π—Å—Ç–≤–æ –ø–æ–º–æ–≥–∞–µ—Ç –Ω–∞–º —É–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ —Å—É–º–º–∞ –≤—Å–µ—Ö Shapley values (–∞—Ç—Ç—Ä–∏–±—É—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –≤–µ—Å–æ–≤) —Ä–∞–≤–Ω–∞ —Å—É–º–º–µ –≤—Å–µ—Ö –∫–æ–Ω–≤–µ—Ä—Å–∏–π –∫–∞–º–ø–∞–Ω–∏–∏.–ó–∞ –ø—Ä–æ–≤–µ—Ä–∫—É —ç—Ç–æ–≥–æ —Å–≤–æ–π—Å—Ç–≤–∞ –æ—Ç–≤–µ—á–∞–µ—Ç –º–µ—Ç–æ–¥ `Efficiency`.</br>
–ï—Å–ª–∏ —É—Å–ª–æ–≤–∏–µ —Å–æ–±–ª—é–¥–µ–Ω–æ - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç True

- ***DummyPlayer***
–ï—Å–ª–∏ –∫–∞–Ω–∞–ª Xj —Ç–∞–∫–æ–π ,—á—Ç–æ M(j,S) = 0 –¥–ª—è –∫–∞–∂–¥–æ–π –∫–æ–∞–ª–∏—Ü–∏–∏ S –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—â–µ–π Xj ,—Ç–æ–≥–¥–∞ 
![Image alt](https://github.com/toseek01/Instagram/blob/master/illustration/dummy.png)</br>
–ö–∞–Ω–∞–ª ,–∫–æ—Ç–æ—Ä—ã–π –Ω–µ –≤–Ω–µ—Å –Ω–∏–∫–∞–∫–æ–≥–æ –≤–∫–ª–∞–¥–∞ –Ω–∏ –≤ –æ–¥–Ω—É –∏–∑ –∫–æ–∞–ª–∏—Ü–∏–π –±—É–¥–µ—Ç –∏–º–µ—Ç—å –Ω—É–ª–µ–≤–æ–π –≤–µ—Å.
–ó–∞ –ø—Ä–æ–≤–µ—Ä–∫—É —ç—Ç–æ–≥–æ —Å–≤–æ–π—Å—Ç–≤–∞ –æ—Ç–≤–µ—á–∞–µ—Ç –º–µ—Ç–æ–¥ `DummyPlater`.</br>
–ï—Å–ª–∏ —É—Å–ª–æ–≤–∏–µ —Å–æ–±–ª—é–¥–µ–Ω–æ - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç True</br>
`Properties` —Å–ª–µ–¥—É–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —Ä–∞—Å—á–µ—Ç–∞ Shapley !</br>

–ß—Ç–æ –º–µ—Ç–æ–¥ `Efficiency` ,—á—Ç–æ –º–µ—Ç–æ–¥ `DummyPlayer` –ø—Ä–∏–Ω–∏–º–∞—é—Ç –Ω–∞ –≤—Ö–æ–¥ 2 –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ : `Shapley values` –∏ `total campaign` .

**2.1 Theory Ordered Shapley Quick start**

–í–∞–∂–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ Shapley –≤ —Ç–æ–º, —á—Ç–æ –∞–ª–≥–æ—Ä–∏—Ç–º –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–æ—Å—Ç—å –ø—É—Ç–µ–π UserID, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–≤–µ—Ä—à–∏–ª–∏ –∫–æ–Ω–≤–µ—Ä—Å–∏–∏. –ê–ª–≥–æ—Ä–∏—Ç–º
–Ω–µ –¥–µ–ª–∞–µ—Ç –Ω–∏–∫–∞–∫–æ–≥–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –±—ã–ª –ª–∏ –∫–∞–Ω–∞–ª –Ω–∞ –ø–µ—Ä–≤–æ–º –º–µ—Å—Ç–µ –∏–ª–∏ –ø–æ—Å–ª–µ–¥–Ω–µ–º,–ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫–∞–Ω–∞–ª–æ–≤ –∏ –∏—Ö –º–µ—Å—Ç–∞ –≤ —Ü–µ–ø–∏. –ü–æ–∑–∏—Ü–∏—è –∫–∞–Ω–∞–ª–∞ –≤ —Ü–µ–ø–∏ –Ω–∏–∫–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –Ω–µ –ø–æ–≤–ª–∏—è–µ—Ç –Ω–∞ –∏—Ç–æ–≥–æ–≤—ã–π –∞—Ç—Ç—Ä–∏–±—É—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤–µ—Å —ç—Ç–æ–≥–æ –∫–∞–Ω–∞–ª–∞. –ó–∞–¥–∞—á–∞ Ordered Shapley Algorithm (–¥–∞–ª–µ–µ Ordered Shapley) —Å–æ—Å—Ç–æ–∏—Ç –≤ —Ç–æ–º,—á—Ç–æ–±—ã —É—Å—Ç—Ä–∞–Ω–∏—Ç—å —ç—Ç–æ—Ç –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ–∫ –∏ –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å, –∫–∞–∫ –∂–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è–ª—Å—è –≤–µ—Å –∫–∞–∂–¥–æ–π –ø–æ–∑–∏—Ü–∏–∏ –≤ —Ü–µ–ø–æ—á–∫–µ –≤–Ω—É—Ç—Ä–∏ –∫–∞–Ω–∞–ª–∞</br>
–î–ª—è –∫–∞–∂–¥–æ–≥–æ Xj –∫–∞–Ω–∞–ª–∞ –∏ –∫–æ–∞–ª–∏—Ü–∏–∏ ùëÜ ‚àà ùëÉ\{Xj} ,UserID –∫–æ—Ç–æ—Ä—ã–µ –≤–Ω–µ—Å–ª–∏ –≤–∫–ª–∞–¥ ùëÖ(ùëÜ ‚à™ {Xj}, –º–æ–≥–ª–∏ –ø–æ—Å–µ—â–∞—Ç—å –∫–∞–Ω–∞–ª—ã –≤ –∫–æ–∞–ª–∏—Ü–∏–∏ ùëÜ ‚à™ {Xj} –≤ —Ä–∞–∑–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ. –í –¥–∞–ª—å–Ω–µ—Ü—à–µ–º –º—ã –±—É–¥–µ–º —Ä–∞–∑–ª–∏—á–∞—Ç—å ,–æ—Å–Ω–æ–≤—ã–≤–∞—è—Å—å –Ω–∞ –ø–æ–∑–∏—Ü–∏–∏ –∫–∞–Ω–∞–ª–∞ Xj –≤ —Ü–µ–ø–∏.
Ri(S U {Xj}) - –≤–∫–ª–∞–¥ –≤—Å–µ—Ö UserID ,–∫—Ç–æ –ø–æ—Å–µ—Ç–∏–ª Xj –∫–∞–Ω–∞–ª –Ω–∞ i-–æ–π –ø–æ–∑–∏—Ü–∏–∏.i ‚àà  {1, 2, ‚Ä¶ , ùëÅ} ,–≥–¥–µ N –∫–æ–ª-–≤–æ –∫–∞–Ω–∞–ª–æ–≤ –≤ —Å–∞–º–æ–π –¥–ª–∏–Ω–Ω–æ–π —Ü–µ–ø–∏.</br> 
![Image alt](https://github.com/toseek01/Instagram/blob/master/illustration/ordermarg.png)</br>

–¢–æ–≥–¥–∞ –ª–æ–≥–∏—á–Ω–æ,—á—Ç–æ Ordered Shapley –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–∞–Ω–∞–ª–∞ –∏ –∫–∞–∂–¥–æ–π –µ–≥–æ –ø–æ–∑–∏—Ü–∏–∏ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø–æ —Å–ª–µ–¥—É—é—â–µ–π —Ñ–æ—Ä–º—É–ª–µ</br>
![Image alt](https://github.com/toseek01/Instagram/blob/master/illustration/shaporder.png)</br>

**2.2.shapleyOrderLib methods**


–ò—Ç–∞–∫,–∏–º–µ–µ–º —Å–ª–µ–¥—É—é—â–∏–µ –º–µ—Ç–æ–¥—ã:
- `__init__`
- `CreditChannel`
- `VectorizationOrder`
- `MatrixOrder`
- `Cardinality`
- `TouchpointR`
- `Calc`
–ï—â–µ —Ä–∞–∑ –ø–æ–≤—Ç–æ—Ä–∏–º—Å—è - –∑–¥–µ—Å—å –º—ã –Ω–µ –±—É–¥–µ–º —Ä–∞–∑–±–∏—Ä–∞—Ç—å –∫–∞–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ –∫–∞–∫–æ–º –º–µ—Ç–æ–¥–µ –∑–∞ —á—Ç–æ –æ—Ç–≤–µ—á–∞—é—Ç - —ç—Ç–æ –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ —Å–¥–µ–ª–∞–Ω–æ –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö –∫ —Å–∞–º–æ–º—É –∫–æ–¥—É, —Ç–∞–∫–∞—è —Å–∫–∞–∑–∞—Ç—å –≤—Ç–æ—Ä–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è ,–Ω–æ —Ç–æ–ª—å–∫–æ —É–∂–µ –≤–Ω—É—Ç—Ä–∏ –∫–æ–¥–∞)

***__init__***
–ù–∞ –≤—Å—Ö–æ–¥ –ø–æ–¥–∞–µ—Ç—Å—è shapley class ,–∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ —Ä–∞—Å—á–µ—Ç–æ–≤ Shapley values</br>
***CreditChannel*** –û—Å—Ç–∞–≤–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ –∫–∞–Ω–∞–ª—ã —Å shapley value > 0 ,—á—Ç–æ–±—ã Ordered Shapley –Ω–µ —Ç—Ä–∞—Ç–∏–ª –≤—Ä–µ–º—è –Ω–∞ —Ä–∞—Å—á–µ—Ç–æ–≤ –≤–µ—Å–æ–≤ –ø–æ–∑–∏—Ü–∏–π –¥–ª—è –∫–∞–Ω–∞–ª–æ–≤ —á–µ–π –≤–µ—Å —Ä–∞–≤–µ–Ω 0</br>

***VectorizationOrder*** –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç —Ü–µ–ø–æ—á–∫—É –≤ –≤–µ–∫—Ç–æ—Ä ,—Å–æ–¥–µ—Ä–∂–∏—â–∏–π –∏—Ö ID .–ü—Ä–∏–º–µ—Ä:</br>
a->b->c->d => [a_id,b_id,c_id,d_id].</br>
–í—Ç–æ—Ä–∞—è —Ñ—É–Ω–∫—Ü–∏—è —ç—Ç–æ–≥–æ –º–µ—Ç–æ–¥–∞ —ç—Ç–æ –≤—ã—è–≤–ª–µ–Ω–∏–µ –∏ —Ä–∞—Å—á–µ—Ç  –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –¥–ª–∏–Ω—ã —Ü–µ–ø–æ—á–∫–∏ –≤ –º–Ω–æ–∂–µ—Å—Ç–≤–µ –≤—Å–µ—Ö —Ü–µ–ø–µ–π</br>

***MatrixOrder*** –ü–æ —Å—É—Ç–∏ ,—ç—Ç–æ—Ç –º–µ—Ç–æ–¥ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —á—Ç–æ –∏ –º–æ–¥—É–ª—å</br>

**Vectorization** –≤ –∫–ª–∞—Å—Å–µ `shapleyLib`, –∞ –∏–º–µ–Ω–Ω–æ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –º–∞—Ç—Ä–∏—Ü—É —Ä–∞—Å—á–µ—Ç–æ–≤ –¥–ª—è Shapley, —Å —Ç–æ–π –ª–∏—à—å —Ä–∞–∑–Ω–∏—Ü–µ–π —á—Ç–æ –≤ —ç—Ç–æ–π –º–∞—Ç—Ä–∏—Ü–µ –±—É–¥—É—Ç —É—á–∏—Ç—ã–≤–∞—Ç—å—Å—è –∑–Ω–∞–Ω–∏—è –∏ –∫–æ–ª-–≤–µ –Ω–∞–ª–∏—á–∏—è –¥–∞–Ω–Ω–æ–≥–æ –∫–∞–Ω–∞–ª–∞ –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ü–µ–ø–∏</br>

***Cardinality*** –†–∞—Å—á–µ—Ç –º–æ—â–Ω–æ—Å—Ç–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ (—Å–º —Ç–µ–æ—Ä–∏—é "How to calculate cardinality of set")</br> 

***TouchpointR*** –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –≤–µ—Å–∞ –∫–∞–∂–¥–æ–π –ø–æ–∑–∏—Ü–∏–∏ –≤–Ω—É—Ç—Ä–∏ –æ–¥–Ω–æ–≥–æ –∫–∞–Ω–∞–ª–∞</br> 

***Calc*** –ó–∞–ø—É—Å–∫–∞–µ—Ç Order Shapley</br> 

